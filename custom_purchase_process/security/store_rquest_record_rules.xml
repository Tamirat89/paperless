<odoo>
    <!-- Rule 1: Regular Users see only their own SIVs in their company -->
    <record id="rule_product_siv_user_own_company" model="ir.rule">
        <field name="name">Product SIV - Own Requests in Own Company</field>
        <field name="model_id" ref="model_product_siv"/>
        <field name="domain_force">[
            ('requested_by', '=', user.id),
            ('company_id', 'in', company_ids)
        ]</field>
        <field name="groups" eval="[(4, ref('group_store_request_user'))]"/>
    </record>

    <!-- Rule 2: Approver, CEO, Super Admin see all in their company only -->
    <record id="rule_product_siv_manager_company" model="ir.rule">
        <field name="name">Product SIV - Manager and Above (Company Scope)</field>
        <field name="model_id" ref="model_product_siv"/>
        <field name="domain_force">[
            ('company_id', 'in', company_ids)
        ]</field>
        <field name="groups" eval="[
            (4, ref('group_store_request_approver')),
            (4, ref('group_store_request_ceo')),
            (4, ref('group_supplier_analysis_super_admin'))
        ]"/>
    </record>
</odoo>
